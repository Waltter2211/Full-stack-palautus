{"ast":null,"code":"import _slicedToArray from\"C:/Users/Waltsu/Desktop/Full-stack-palautus/osa4/blogilista_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import Blogs from'./components/Blogs';import BlogForm from'./components/BlogForm';import blogServices from'./services/blogServices';import blogi from'./teams.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newTitle=_useState4[0],setNewTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newAuthor=_useState6[0],setNewAuthor=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),newUrl=_useState8[0],setNewUrl=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),newLikes=_useState10[0],setNewLikes=_useState10[1];useEffect(function(){blogServices.getAll().then(function(response){setBlogs(response.data);console.log(response.data);});},[]);/*useEffect(() => {\n    setBlogs(blogi)\n  }, [])*/var incrementVoteCount=function incrementVoteCount(blogId){blogs=blogs.map(function(blog){if(blog._id===blogId){blog.likes=blog.likes+1;}return blog;});//setBlogs(blogs);\nvar currentBlog=blogs.find(function(blog){return blog._id===blogId;});var updateBlog=function updateBlog(blog){blogServices.update(blog._id,blog).then(function(response){setBlogs(response.data);blogs=blogs.map(function(blog){if(blog._id===blogId){blog=response.data;//blog.likes = blog.likes + 1\n}return blog;});setBlogs(blogs);});};updateBlog(currentBlog);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add blog\"}),/*#__PURE__*/_jsx(BlogForm,{blogs:blogs,setBlogs:setBlogs,newTitle:newTitle,newAuthor:newAuthor,newUrl:newUrl,newLikes:newLikes,setNewTitle:setNewTitle,setNewAuthor:setNewAuthor,setNewUrl:setNewUrl,setNewLikes:setNewLikes}),/*#__PURE__*/_jsx(\"h1\",{children:\"Blogs\"}),/*#__PURE__*/_jsx(Blogs,{blogs:blogs,newLikes:newLikes,setBlogs:setBlogs,setNewLikes:setNewLikes,incrementVoteCount:incrementVoteCount})]});};export default App;","map":{"version":3,"names":["useState","useEffect","Blogs","BlogForm","blogServices","blogi","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","blogs","setBlogs","_useState3","_useState4","newTitle","setNewTitle","_useState5","_useState6","newAuthor","setNewAuthor","_useState7","_useState8","newUrl","setNewUrl","_useState9","_useState10","newLikes","setNewLikes","getAll","then","response","data","console","log","incrementVoteCount","blogId","map","blog","_id","likes","currentBlog","find","updateBlog","update","className","children"],"sources":["C:/Users/Waltsu/Desktop/Full-stack-palautus/osa4/blogilista_frontend/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Blogs from './components/Blogs';\nimport BlogForm from './components/BlogForm';\nimport blogServices from './services/blogServices';\nimport blogi from './teams.json';\n\nconst App = () => {\n\n  let [blogs, setBlogs] = useState([])\n  const [newTitle, setNewTitle] = useState('')\n  const [newAuthor, setNewAuthor] = useState('')\n  const [newUrl, setNewUrl] = useState('')\n  const [newLikes, setNewLikes] = useState('')\n\n  useEffect(() => {\n    blogServices.getAll().then(response => {\n      setBlogs(response.data)\n      console.log(response.data)\n    })\n  }, [])\n\n  /*useEffect(() => {\n    setBlogs(blogi)\n  }, [])*/\n\n  const incrementVoteCount = (blogId) => {\n    blogs = blogs.map(blog => {\n      if (blog._id === blogId) {\n        blog.likes = blog.likes + 1;\n      }\n      return blog;\n    });\n    //setBlogs(blogs);\n\n    const currentBlog = blogs.find(blog => {\n      return blog._id === blogId\n    })\n\n    const updateBlog = (blog) => {\n      blogServices.update(blog._id, blog).then(response => {\n        setBlogs(response.data)\n        blogs = blogs.map(blog => {\n          if (blog._id === blogId) {\n            blog = response.data\n            //blog.likes = blog.likes + 1\n          }\n          return blog;\n        });\n        setBlogs(blogs)\n      })\n    }\n    updateBlog(currentBlog)\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Add blog</h1>\n      <BlogForm blogs={blogs} setBlogs={setBlogs} newTitle={newTitle} newAuthor={newAuthor} newUrl={newUrl} newLikes={newLikes} setNewTitle={setNewTitle} setNewAuthor={setNewAuthor} setNewUrl={setNewUrl} setNewLikes={setNewLikes} />\n      <h1>Blogs</h1>\n      <Blogs blogs={blogs} newLikes={newLikes} setBlogs={setBlogs} setNewLikes={setNewLikes} incrementVoteCount={incrementVoteCount} />\n    </div>\n  );\n}\n\nexport default App\n"],"mappings":"0JAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,YAAY,KAAM,yBAAyB,CAClD,MAAO,CAAAC,KAAK,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjC,GAAM,CAAAC,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAA,CAAS,CAEhB,IAAAC,SAAA,CAAwBX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAgChB,QAAQ,CAAC,EAAE,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAkCpB,QAAQ,CAAC,EAAE,CAAC,CAAAqB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAvCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,IAAAG,UAAA,CAA4BxB,QAAQ,CAAC,EAAE,CAAC,CAAAyB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAAgC5B,QAAQ,CAAC,EAAE,CAAC,CAAA6B,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAArCE,QAAQ,CAAAD,WAAA,IAAEE,WAAW,CAAAF,WAAA,IAE5B5B,SAAS,CAAC,UAAM,CACdG,YAAY,CAAC4B,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACrCnB,QAAQ,CAACmB,QAAQ,CAACC,IAAI,CAAC,CACvBC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACC,IAAI,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN;AACF;AACA,UAEE,GAAM,CAAAG,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,MAAM,CAAK,CACrCzB,KAAK,CAAGA,KAAK,CAAC0B,GAAG,CAAC,SAAAC,IAAI,CAAI,CACxB,GAAIA,IAAI,CAACC,GAAG,GAAKH,MAAM,CAAE,CACvBE,IAAI,CAACE,KAAK,CAAGF,IAAI,CAACE,KAAK,CAAG,CAAC,CAC7B,CACA,MAAO,CAAAF,IAAI,CACb,CAAC,CAAC,CACF;AAEA,GAAM,CAAAG,WAAW,CAAG9B,KAAK,CAAC+B,IAAI,CAAC,SAAAJ,IAAI,CAAI,CACrC,MAAO,CAAAA,IAAI,CAACC,GAAG,GAAKH,MAAM,CAC5B,CAAC,CAAC,CAEF,GAAM,CAAAO,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIL,IAAI,CAAK,CAC3BrC,YAAY,CAAC2C,MAAM,CAACN,IAAI,CAACC,GAAG,CAAED,IAAI,CAAC,CAACR,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACnDnB,QAAQ,CAACmB,QAAQ,CAACC,IAAI,CAAC,CACvBrB,KAAK,CAAGA,KAAK,CAAC0B,GAAG,CAAC,SAAAC,IAAI,CAAI,CACxB,GAAIA,IAAI,CAACC,GAAG,GAAKH,MAAM,CAAE,CACvBE,IAAI,CAAGP,QAAQ,CAACC,IAAI,CACpB;AACF,CACA,MAAO,CAAAM,IAAI,CACb,CAAC,CAAC,CACF1B,QAAQ,CAACD,KAAK,CAAC,CACjB,CAAC,CAAC,CACJ,CAAC,CACDgC,UAAU,CAACF,WAAW,CAAC,CACzB,CAAC,CAED,mBACEnC,KAAA,QAAKuC,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB1C,IAAA,OAAA0C,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB1C,IAAA,CAACJ,QAAQ,EAACW,KAAK,CAAEA,KAAM,CAACC,QAAQ,CAAEA,QAAS,CAACG,QAAQ,CAAEA,QAAS,CAACI,SAAS,CAAEA,SAAU,CAACI,MAAM,CAAEA,MAAO,CAACI,QAAQ,CAAEA,QAAS,CAACX,WAAW,CAAEA,WAAY,CAACI,YAAY,CAAEA,YAAa,CAACI,SAAS,CAAEA,SAAU,CAACI,WAAW,CAAEA,WAAY,CAAE,CAAC,cAClOxB,IAAA,OAAA0C,QAAA,CAAI,OAAK,CAAI,CAAC,cACd1C,IAAA,CAACL,KAAK,EAACY,KAAK,CAAEA,KAAM,CAACgB,QAAQ,CAAEA,QAAS,CAACf,QAAQ,CAAEA,QAAS,CAACgB,WAAW,CAAEA,WAAY,CAACO,kBAAkB,CAAEA,kBAAmB,CAAE,CAAC,EAC9H,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}